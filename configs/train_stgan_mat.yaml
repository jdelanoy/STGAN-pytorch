# meta
exp_name: manu_dset_disentangle_IGN_branches
mode: train
cuda: true 
ngpu: 1

# data
dataset: material
data_augmentation: True
data_root: /home/johanna/Documents/rendering_materials/renders/datasets_allshapes/renders_by_geom_ldr
#data_root: /home/johanna/Documents/rendering_materials/renders/evaluation_dset
#data_root: /Users/delanoy/Documents/postdoc/project1_material_networks/dataset/renders_by_geom_ldr/
crop_size: 240
image_size: 128
gaussian_stddev: 0.5

#which part activate
use_latent_disc: true #latent discriminator to not encode attribute
use_image_disc: false #GAN
use_classifier_generator: false
rec_loss: 'l1' #Can be l1, l2, perceptual
do_mean_features: true #average the features when going through generator
separate_C_D: false #TODO not implemented yet


#### model (FaderNet)
#dim of the network
g_conv_dim: 32
d_conv_dim: 32
d_fc_dim: 512
max_conv_dim: 512
vgg_like: True
g_layers: 6
d_layers: 5
#divide into branches, skip connections, where to put the attributes
shortcut_layers: 0
n_attr_deconv: 0 #in how many deconv layer add the attribute:0 = no attribute, 1=normal (just concat to bneck)
use_branches : true
#other
attrs: [glossy]
checkpoint: ~

# # training (AttGAN)
# g_lr: 0.0002
# d_lr: 0.00002
# ld_lr: 0
# n_critic: 5
# lambda_adv : 1
# lambda_gp: 10
# lambda_d_att: 1000
# lambda_g_att: 10000
# lambda_g_rec: 100
# lambda_g_latent: 0
# lambda_ld: 0
# training (FaderNet)
batch_size: 6
beta1: 0.9
beta2: 0.999
g_lr: 0.0001
d_lr: 0
ld_lr: 0.00002
n_critic: 1
n_critic_ld: 1
lambda_adv : 0
lambda_gp: 0
lambda_d_att: 0
lambda_g_att: 0
lambda_g_rec: 1
lambda_g_latent: 1
lambda_ld: 0.01
perc_loss_rec_weight: 0.1
lambda_G_features: 0.0001

max_epoch: 500
lr_decay_iters: 150000

# steps:
#33 iter per batch
summary_step: 100
sample_step: 1000
checkpoint_step: 10000


